{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Admin/Desktop/sociopedia/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Admin/Desktop/sociopedia/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Admin/Desktop/sociopedia/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,useMediaQuery}from\"@mui/material\";import{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import Navbar from\"scenes/navbar\";import FriendListWidget from\"scenes/widgets/FriendListWidget\";import MyPostWidget from\"scenes/widgets/MyPostWidget\";import PostsWidget from\"scenes/widgets/PostsWidget\";import UserWidget from\"scenes/widgets/UserWidget\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfilePage=function ProfilePage(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useParams=useParams(),userId=_useParams.userId;var token=useSelector(function(state){return state.token;});var isNonMobileScreens=useMediaQuery(\"(min-width:1000px)\");var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/users/\".concat(userId),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setUser(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function getUser(){return _ref.apply(this,arguments);};}();useEffect(function(){getUser();},[]);// eslint-disable-line react-hooks/exhaustive-deps\nif(!user)return null;return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Box,{width:\"100%\",padding:\"2rem 6%\",display:isNonMobileScreens?\"flex\":\"block\",gap:\"2rem\",justifyContent:\"center\",children:[/*#__PURE__*/_jsxs(Box,{flexBasis:isNonMobileScreens?\"26%\":undefined,children:[/*#__PURE__*/_jsx(UserWidget,{userId:userId,picturePath:user.picturePath}),/*#__PURE__*/_jsx(Box,{m:\"2rem 0\"}),/*#__PURE__*/_jsx(FriendListWidget,{userId:userId})]}),/*#__PURE__*/_jsxs(Box,{flexBasis:isNonMobileScreens?\"42%\":undefined,mt:isNonMobileScreens?undefined:\"2rem\",children:[/*#__PURE__*/_jsx(MyPostWidget,{picturePath:user.picturePath}),/*#__PURE__*/_jsx(Box,{m:\"2rem 0\"}),/*#__PURE__*/_jsx(PostsWidget,{userId:userId,isProfile:true})]})]})]});};export default ProfilePage;","map":{"version":3,"names":["Box","useMediaQuery","useEffect","useState","useSelector","useParams","Navbar","FriendListWidget","MyPostWidget","PostsWidget","UserWidget","ProfilePage","user","setUser","userId","token","state","isNonMobileScreens","getUser","fetch","method","headers","Authorization","response","json","data","undefined","picturePath"],"sources":["C:/Users/Admin/Desktop/sociopedia/client/src/scenes/profilePage/index.jsx"],"sourcesContent":["import { Box, useMediaQuery } from \"@mui/material\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Navbar from \"scenes/navbar\";\r\nimport FriendListWidget from \"scenes/widgets/FriendListWidget\";\r\nimport MyPostWidget from \"scenes/widgets/MyPostWidget\";\r\nimport PostsWidget from \"scenes/widgets/PostsWidget\";\r\nimport UserWidget from \"scenes/widgets/UserWidget\";\r\n\r\nconst ProfilePage = () => {\r\n  const [user, setUser] = useState(null);\r\n  const { userId } = useParams();\r\n  const token = useSelector((state) => state.token);\r\n  const isNonMobileScreens = useMediaQuery(\"(min-width:1000px)\");\r\n\r\n  const getUser = async () => {\r\n    const response = await fetch(`http://localhost:3001/users/${userId}`, {\r\n      method: \"GET\",\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const data = await response.json();\r\n    setUser(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <Box>\r\n      <Navbar />\r\n      <Box\r\n        width=\"100%\"\r\n        padding=\"2rem 6%\"\r\n        display={isNonMobileScreens ? \"flex\" : \"block\"}\r\n        gap=\"2rem\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Box flexBasis={isNonMobileScreens ? \"26%\" : undefined}>\r\n          <UserWidget userId={userId} picturePath={user.picturePath} />\r\n          <Box m=\"2rem 0\" />\r\n          <FriendListWidget userId={userId} />\r\n        </Box>\r\n        <Box\r\n          flexBasis={isNonMobileScreens ? \"42%\" : undefined}\r\n          mt={isNonMobileScreens ? undefined : \"2rem\"}\r\n        >\r\n          <MyPostWidget picturePath={user.picturePath} />\r\n          <Box m=\"2rem 0\" />\r\n          <PostsWidget userId={userId} isProfile />\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"],"mappings":"0YAAA,OAASA,GAAG,CAAEC,aAAa,KAAQ,eAAe,CAClD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAOC,OAAM,KAAM,eAAe,CAClC,MAAOC,iBAAgB,KAAM,iCAAiC,CAC9D,MAAOC,aAAY,KAAM,6BAA6B,CACtD,MAAOC,YAAW,KAAM,4BAA4B,CACpD,MAAOC,WAAU,KAAM,2BAA2B,CAAC,wFAEnD,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,cAAwBR,QAAQ,CAAC,IAAI,CAAC,wCAA/BS,IAAI,eAAEC,OAAO,eACpB,eAAmBR,SAAS,EAAE,CAAtBS,MAAM,YAANA,MAAM,CACd,GAAMC,MAAK,CAAGX,WAAW,CAAC,SAACY,KAAK,QAAKA,MAAK,CAACD,KAAK,GAAC,CACjD,GAAME,mBAAkB,CAAGhB,aAAa,CAAC,oBAAoB,CAAC,CAE9D,GAAMiB,QAAO,4FAAG,4KACSC,MAAK,uCAAgCL,MAAM,EAAI,CACpEM,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAEC,aAAa,kBAAYP,KAAK,CAAG,CAC9C,CAAC,CAAC,QAHIQ,QAAQ,qCAIKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACVZ,OAAO,CAACY,IAAI,CAAC,CAAC,qDACf,kBAPKP,QAAO,0CAOZ,CAEDhB,SAAS,CAAC,UAAM,CACdgB,OAAO,EAAE,CACX,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,GAAI,CAACN,IAAI,CAAE,MAAO,KAAI,CAEtB,mBACE,MAAC,GAAG,yBACF,KAAC,MAAM,IAAG,cACV,MAAC,GAAG,EACF,KAAK,CAAC,MAAM,CACZ,OAAO,CAAC,SAAS,CACjB,OAAO,CAAEK,kBAAkB,CAAG,MAAM,CAAG,OAAQ,CAC/C,GAAG,CAAC,MAAM,CACV,cAAc,CAAC,QAAQ,wBAEvB,MAAC,GAAG,EAAC,SAAS,CAAEA,kBAAkB,CAAG,KAAK,CAAGS,SAAU,wBACrD,KAAC,UAAU,EAAC,MAAM,CAAEZ,MAAO,CAAC,WAAW,CAAEF,IAAI,CAACe,WAAY,EAAG,cAC7D,KAAC,GAAG,EAAC,CAAC,CAAC,QAAQ,EAAG,cAClB,KAAC,gBAAgB,EAAC,MAAM,CAAEb,MAAO,EAAG,GAChC,cACN,MAAC,GAAG,EACF,SAAS,CAAEG,kBAAkB,CAAG,KAAK,CAAGS,SAAU,CAClD,EAAE,CAAET,kBAAkB,CAAGS,SAAS,CAAG,MAAO,wBAE5C,KAAC,YAAY,EAAC,WAAW,CAAEd,IAAI,CAACe,WAAY,EAAG,cAC/C,KAAC,GAAG,EAAC,CAAC,CAAC,QAAQ,EAAG,cAClB,KAAC,WAAW,EAAC,MAAM,CAAEb,MAAO,CAAC,SAAS,OAAG,GACrC,GACF,GACF,CAEV,CAAC,CAED,cAAeH,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}